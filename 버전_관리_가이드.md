# 버전 관리 가이드

## 현재 버전 저장하고 새 버전으로 작업하기

### 방법 1: Git 브랜치 사용 (권장) ⭐

현재 작업 상태를 저장하고, 새로운 브랜치에서 작업하는 방법입니다.

#### 1단계: 현재 작업 저장

```powershell
# 현재 변경사항 확인
git status

# 변경사항이 있다면 커밋
git add -A
git commit -m "현재 버전 저장 (작업 전 백업)"

# 또는 자동 커밋 스크립트 사용
.\auto-commit.ps1 "현재 버전 저장"
```

#### 2단계: 새 브랜치 생성 및 전환

```powershell
# 새 브랜치 생성 (예: v2, new-version, refactor 등)
git checkout -b new-version

# 또는 더 명확한 이름으로
git checkout -b menu-restructure-v2
```

#### 3단계: 새 버전 작업

이제 자유롭게 수정하고 작업하세요!

```powershell
# 작업 후 커밋
.\auto-commit.ps1 "새 버전 작업 중"
```

#### 4단계: 브랜치 전환 (필요시)

```powershell
# 기존 버전(main)으로 돌아가기
git checkout main

# 새 버전으로 다시 전환
git checkout new-version
```

#### 5단계: 새 버전을 메인으로 병합 (작업 완료 후)

```powershell
# main 브랜치로 전환
git checkout main

# 새 버전 병합
git merge new-version

# GitHub에 푸시
git push origin main
```

---

### 방법 2: 백업 폴더 생성

간단하게 현재 상태를 복사해서 백업하는 방법입니다.

#### 1단계: 백업 폴더 생성

```powershell
# 현재 날짜로 백업 폴더 생성
$backupName = "backup-$(Get-Date -Format 'yyyy-MM-dd-HHmm')"
New-Item -ItemType Directory -Path "..\$backupName"

# 또는 수동으로
# 프로젝트 폴더 상위에 "backup-2024-01-15" 같은 이름으로 폴더 생성
```

#### 2단계: 파일 복사

```powershell
# 전체 프로젝트 복사
Copy-Item -Path "." -Destination "..\$backupName" -Recurse

# 또는 중요한 파일만 복사
Copy-Item -Path "index.html" -Destination "..\$backupName\"
Copy-Item -Path "메뉴_리스트_정리.md" -Destination "..\$backupName\"
```

#### 3단계: 새 버전 작업

원래 폴더에서 자유롭게 작업하세요!

---

### 방법 3: Git 태그 사용 (특정 버전 마킹)

중요한 버전을 태그로 표시하는 방법입니다.

#### 1단계: 현재 버전 태그 생성

```powershell
# 현재 상태 커밋
git add -A
git commit -m "v1.0 - 현재 안정 버전"

# 태그 생성
git tag -a v1.0 -m "현재 안정 버전"

# GitHub에 태그 푸시
git push origin v1.0
```

#### 2단계: 새 버전 작업

자유롭게 작업하세요.

#### 3단계: 특정 태그로 돌아가기 (필요시)

```powershell
# v1.0 태그로 돌아가기
git checkout v1.0

# 다시 최신으로 돌아가기
git checkout main
```

---

## 추천 워크플로우

### 시나리오 1: 큰 변경 작업 전

```powershell
# 1. 현재 상태 저장
.\auto-commit.ps1 "작업 전 백업"

# 2. 새 브랜치 생성
git checkout -b refactor-menu-structure

# 3. 작업 시작
# ... 메뉴 구조 개선 작업 ...

# 4. 작업 중간 저장
.\auto-commit.ps1 "메뉴 구조 개선 중"

# 5. 작업 완료 후 메인으로 병합
git checkout main
git merge refactor-menu-structure
git push origin main
```

### 시나리오 2: 실험적 기능 테스트

```powershell
# 1. 현재 상태 저장
git add -A
git commit -m "실험 전 백업"

# 2. 실험 브랜치 생성
git checkout -b experiment-new-feature

# 3. 실험 작업
# ... 실험적 기능 추가 ...

# 4. 결과 확인 후
# - 성공: main으로 병합
# - 실패: 브랜치 삭제하고 main으로 돌아가기
```

---

## 브랜치 관리 명령어

```powershell
# 모든 브랜치 보기
git branch -a

# 현재 브랜치 확인
git branch

# 브랜치 삭제 (병합 후)
git branch -d branch-name

# 브랜치 강제 삭제 (병합 안 된 경우)
git branch -D branch-name

# 원격 브랜치 삭제
git push origin --delete branch-name
```

---

## 주의사항

1. **작업 전 항상 커밋**: 변경사항이 있으면 먼저 커밋하세요
2. **브랜치 이름 규칙**: 명확한 이름 사용 (예: `menu-v2`, `refactor-2024`)
3. **정기적 백업**: 중요한 작업 전에는 태그나 백업 생성
4. **병합 전 확인**: 병합하기 전에 변경사항을 확인하세요

---

## 빠른 참조

```powershell
# 현재 버전 저장 + 새 브랜치 생성
.\auto-commit.ps1 "작업 전 백업"
git checkout -b new-version

# 작업 후 메인으로 병합
git checkout main
git merge new-version
git push origin main
```

이제 안전하게 새 버전으로 작업할 수 있습니다!

